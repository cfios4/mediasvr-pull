# podman run -i --rm quay.io/coreos/butane --pretty --strict < ignition.bu > ignition.ign
variant: fcos
version: 1.5.0

# ignition:
#   config:
#     replace:
#       source: http://example.com/myconfig.ign
#     append:
#       - source: http://example.com/append.ign

passwd:
  groups:
    - name: docker

  users:
    - name: casey
      ssh_authorized_keys:
        - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQD4Q1Cay7PADzS9WuoNg/IOgmPOXfBLX6N18NmgxY71ymGj+R9pXex5yDkHWoNBKmZN48JAwa3wHYsg4k60kgcp+ixJr5HDIaHO98h+6doPBsotFXX686aBhYIP5j/JpgHgwohb+EzLzS/z+s7HPlUSOPYqTwM7lCP6i5HmPPbvQ8X0csPLEajv9+VXqP1CowKbdgqYB8i/v+KB++MS52RJPrczqB1GrAs4rSGuv2BzXfgRZgC6wJNS+w8zYtfoxEWLDq825n2WODLQ6Ku46vqrfxUe0zAV9570H3/cb248jttFEEHHd6xQv11AMN0q4tv/PFE+uuLqoouCUEyywnum0mhTRwmU/dQp01mNfe91cjBWF8rCv+s/S0MwKxUBGS0cfe6Zxyk7rZhefHctNt4S3YlHD5xlhJmtJ543lg+cjEHBeYO4fMur48xDw0aQJkS5xa1FMR7Jga2X14ZvrVESK5v5ixS4wqijUGV/qXJ1bdyPPpnmzFBOHttXZm7liX0= casey@GamingPC
      groups: [wheel, docker]

storage:
  disks:
    - device: /dev/sda
      partitions:
        - label: 0
          number: 0
          size_mib: 0 # As large as possible
          start_mib: 0 # Start at largest block available
#  filesystems: 
#    - device: /dev/disk/by-partlabel/ # lsblk -o NAME,MOUNTPOINT,PARTLABEL // ls -l /dev/disk/by-label
#      format: ext4
#      path: /
#      wipe_filesystem: true

  files:
    - path: /etc/hostname
      mode: 420
      overwrite: true
      contents:
        inline: coreos

systemd:
  units:
    - name: etcd-member.service
      enabled: true
      contents: |
        [Unit]
        Description=etcd member
        Documentation=https://github.com/coreos/etcd
        [Service]
        ExecStart=/usr/bin/etcd
        Restart=always
        [Install]
        WantedBy=multi-user.target
        
